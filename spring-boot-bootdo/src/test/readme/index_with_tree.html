<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>文档</title>
  <link href="css/semantic/semantic.min.css" rel="stylesheet">
  <link href="css/oscTree.css" rel="stylesheet">
  <link href="css/markdown.css" rel="stylesheet">
  <link href="css/index.css" rel="stylesheet">
</head>
<body>
  <div class="ui container">
    <div id="project-title">
      <div class="title-wrap">
        <div class="left">
          <i class="icon eye"></i>
          文档预览:
          <span id="preview-title"></span>
        </div>
        <div class="right">
          Export by Gitee
        </div>
      </div>
    </div>

    <div class="ui container" id="wiki-preview-container">
      <div id="wiki-preview">
        <div class="ui segment">
          <div class="ui grid page">
            <div class="three wide column doc-list">
              <div class="title">
                <a id="ex-all">
                  收缩全部章节
                </a>
              </div>
              <div class="ztree" id="tree"></div>
            </div>
            <div class="thirteen wide column doc-content">
              <div id="page-detail">
                <div class="title">
                </div>
                <div class="content markdown-body">
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
  </div>
</body>
</html>
<script src="js/jquery.min.js"></script>
<script src="js/ztree.all.js"></script>
<script src="js/jquery.ztree.exhide.min.js"></script>
<script>
  var zTreeObj;var expandStatus=true;$(document).ready(function(){var setting={view:{showLine:true,showIcon:true},callback:{onClick:function(e,treeId,treeNode){if(treeNode!==null&&!treeNode.isParent&&typeof(treeNode.children)==="undefined"){var sort_id=treeNode.sort_id;var content=json_data.content;for(var c in content){if(c==sort_id){$("#page-detail .title").html(treeNode.name);$("#page-detail .content").html(content[c]);return false}}}else{zTreeObj.expandNode(treeNode)}}},data:{simpleData:{enable:true}}};zTreeObj=$.fn.zTree.init($("#tree"),setting,json_data.title);var first_content=json_data.title[0];$("#page-detail .title").html(first_content.name);$("#page-detail .content").html(json_data.content[first_content.sort_id]);$("#preview-title").html(json_data.preview_title);$("#ex-all").on("click",function(e){zTreeObj.expandAll(!expandStatus);expandStatus=!expandStatus;if(expandStatus){$(this).text("收缩全部章节")}else{$(this).text("展开全部章节")}})});
</script><script>var json_data = {"preview_title":"bootdo","title":[{"id":"第一步，配置生成策略","pId":"67d4f97","name":"第一步，配置生成策略","parent":"代码生成","order":-2,"sort_id":85590,"extname":".markdown","isParent":false,"isHidden":false,"content":"1、打开代码生成模块，点击配置策略\n\n![输入图片说明](https://gitee.com/uploads/images/2017/1026/083809_ab05adc8_1204498.png \"屏幕截图.png\")\n\n2、指定作者，邮箱等信息等代码注释信息；\n\n3、指定 **包** 名；\n\n4、为了是代码简洁美观可选择自动去除表的前缀，或者去掉指定的表前缀。\n\n"},{"id":"第二部、生成代码并复制到项目中","pId":"67d4f97","name":"第二部、生成代码并复制到项目中","parent":"代码生成","order":-1,"sort_id":85604,"extname":".markdown","isParent":false,"isHidden":false,"content":"     关于为什么不直接生成到项目中，只要考虑到，如果生成策略配置不正确或者其他原因导致代码生成错误，或者生成的某些代码是不需要的，还需要手动删除，可能导致误删等情况。 \n1、生成策略配置完成后，点击生成代码按钮或者批量删除按钮，自动生成对单表表单的增删改查模块。\n2、复制到项目中，一般根据依赖关系，先复制pojo,dao,service,controller，然后是xml,html,js等静态资源。\n"},{"id":"Home","pId":0,"name":"Home","parent":null,"order":0,"sort_id":47151,"extname":".markdown","isParent":false,"isHidden":false,"content":"面向学习型的开源框架，简洁高效，减少过渡封装，展现技术本质!\n\n项目地址(GitHub):[https://github.com/lcg0124/bootdo](https://github.com/lcg0124/bootdo)\n\n项目地址(GitEE):[https://gitee.com/lcg0124/bootdo](https://gitee.com/lcg0124/bootdo)\n"},{"id":"BootDo打包war并部署外部Tomcat(Idea开发工具)","pId":"bb38def","name":"BootDo打包war并部署外部Tomcat(Idea开发工具)","parent":"代码生成/部署/war部署外部Tomcat","order":0,"sort_id":199529,"extname":".markdown","isParent":false,"isHidden":false,"content":"  **注意修改BootdoApplication** \n- 只需要继承SpringBootServletInitializer 和 configure方法重写\n```\npublic class BootdoApplication ** extends SpringBootServletInitializer** {\n **    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(BootdoApplication.class);\n    }** \n```\n**1.修改pom.xml文件打包方式为war** \n```\n\u003CgroupId\u003Ecom.bootdo\u003C/groupId\u003E\n\u003CartifactId\u003Ebootdo\u003C/artifactId\u003E\n\u003Cversion\u003E1.5.0\u003C/version\u003E\n\u003Cpackaging\u003Ewar\u003C/packaging\u003E\n```\n![pom修改war打包方式](https://gitee.com/uploads/images/2018/0127/151715_fbbc0ce7_131538.jpeg \"1.修改为war打包模式.jpg\")\n\n **2.移除springboot自带tomcat环境并添加servlet依赖** \n```\n\u003C!-- 移除嵌入式tomcat插件 --\u003E\n\u003Cdependency\u003E\n    \u003CgroupId\u003Eorg.springframework.boot\u003C/groupId\u003E\n    \u003CartifactId\u003Espring-boot-starter-tomcat\u003C/artifactId\u003E\n    \u003Cscope\u003Eprovided\u003C/scope\u003E\n\u003C/dependency\u003E\n\u003C!-- 添加servlet-api的依赖 --\u003E\n\u003Cdependency\u003E\n    \u003CgroupId\u003Ejavax.servlet\u003C/groupId\u003E\n    \u003CartifactId\u003Eservlet-api\u003C/artifactId\u003E\n    \u003Cversion\u003E2.5\u003C/version\u003E\n    \u003Cscope\u003Eprovided\u003C/scope\u003E\n\u003C/dependency\u003E\n```\n![移除springboot自带tomcat环境并添加servlet依赖](https://gitee.com/uploads/images/2018/0127/151923_13a889da_131538.jpeg \"2.移除springboot自带tomcat环境并添加servlet依赖.jpg\")\n\n **3.bulid一下项目** \n\n![bulid一下项目](https://gitee.com/uploads/images/2018/0127/155842_41a58db4_131538.jpeg \"3.build项目.jpg\")\n\n **4.项目进行maven package操作打包war文件** \n\n![项目进行maven package操作打包war文件](https://gitee.com/uploads/images/2018/0127/155946_112e8ede_131538.jpeg \"4.项目打包成war格式.jpg\")\n\n **5.新建一个配置forTomcat** \n\n![新建一个配置forTomcat](https://gitee.com/uploads/images/2018/0127/160258_01b18f2a_131538.jpeg \"5.添加Tomcat服务器.jpg\")\n\n **6.点击＋号，下拉选择Tomcat Server-Local** \n\n![选择Tomcat Server](https://gitee.com/uploads/images/2018/0127/160322_c91216c0_131538.jpeg \"5.添加一个Tomcat服务.jpg\")\n\n **7.显示idea已经配置的Tomcat相关信息，端口等** \n\n![Tomcat相关信息](https://gitee.com/uploads/images/2018/0127/160412_01567c00_131538.jpeg \"6.默认读取idea配置的tomcat内容.jpg\")\n\n **8.切换至Deployment 点击＋号，点击artifact添加项目** \n\n![artifact添加项目](https://gitee.com/uploads/images/2018/0127/160452_a7c3875b_131538.jpeg \"7.artifact项目.jpg\")\n\n **9.添加打包成war的项目** \n\nwar模式：将WEB工程以包的形式上传到服务器；\n\nwar exploded模式：将WEB工程以当前文件夹的位置关系上传到服务器；选择war exploded\n![添加打包成war的项目](https://gitee.com/uploads/images/2018/0127/160607_92cb5c17_131538.jpeg \"8.添加刚才打包好的项目.jpg\")\n\n **10.添加完成截图示意** \n\n可以在application context修改访问项目的路径哦\n\n![添加完成截图示意](https://gitee.com/uploads/images/2018/0127/160744_1d040739_131538.jpeg \"9.添加完成的截图.jpg\")\n **11.点击运行即可** \n\n点击绿色倒三角会启动项目并自动打开浏览器跳转到项目index页面 \n\n![运行即可](https://gitee.com/uploads/images/2018/0127/160846_f976268e_131538.jpeg \"9点击运行即可.jpg\")\n\n### 常见问题\n- FileController.java报错\n```\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'fileController': Failed to introspect bean class [com.xai.common.controller.FileController] for lookup method metadata: could not find class that it depends on; nested exception is java.lang.NoClassDefFoundError: org/apache/catalina/servlet4preview/http/HttpServletRequest\n```\n- 解决方法：\n```\n删除FileController.java 中import org.apache.catalina.servlet4preview.http.HttpServletRequest;\n导入javax中的servlet import javax.servlet.http.HttpServletRequest;\n```\n\n以上就是bootdo打包成war并部署外部Tomcat图文步骤整理\n"},{"id":"关闭activiti自动建表","pId":"5ce64d2","name":"关闭activiti自动建表","parent":"关于activiti的常见问题","order":0,"sort_id":400419,"extname":".markdown","isParent":false,"isHidden":false,"content":"\n![输入图片说明](https://gitee.com/uploads/images/2018/0521/115322_9699101c_1204498.png \"屏幕截图.png\")\n设置成false"},{"id":"启动项目","pId":"9e033de","name":"启动项目","parent":"快速开始","order":0,"sort_id":64319,"extname":".markdown","isParent":false,"isHidden":false,"content":"1、找到配置文件application.yml\n\n![输入图片说明](https://git.oschina.net/uploads/images/2017/1011/172440_1a6ea36b_1204498.png \"屏幕截图.png\")\n\n2、更改数据库\n![输入图片说明](https://git.oschina.net/uploads/images/2017/1011/172534_e9c44917_1204498.png \"屏幕截图.png\")\n\n3、找到BootdoApplication直接运行\n![输入图片说明](https://git.oschina.net/uploads/images/2017/1011/172333_447c9dbd_1204498.png \"屏幕截图.png\")\n\n4、启动成功\n\n5、访问localhost"},{"id":"第一步、添加菜单","pId":"55c59bd","name":"第一步、添加菜单","parent":"添加菜单","order":0,"sort_id":180798,"extname":".markdown","isParent":false,"isHidden":false,"content":"![输入图片说明](https://gitee.com/uploads/images/2018/0108/163854_0a8b4ab8_1204498.png \"屏幕截图.png\")"},{"id":"session支持ehcache和redis","pId":"7dc2d20","name":"session支持ehcache和redis","parent":"关于缓存","order":1,"sort_id":178191,"extname":".markdown","isParent":false,"isHidden":false,"content":"配置文件制定cacheType，切换缓存类型"},{"id":"第二部、添加权限","pId":"55c59bd","name":"第二部、添加权限","parent":"添加菜单","order":1,"sort_id":180802,"extname":".markdown","isParent":false,"isHidden":false,"content":"![输入图片说明](https://gitee.com/uploads/images/2018/0108/164145_2bdacb79_1204498.png \"屏幕截图.png\")"},{"id":"03680b1","pId":"02d7de0","name":"权限模块","parent":"代码生成/部署","sort_id":68609,"order":2,"isParent":true,"extname":null,"open":true},{"id":"f54bd12","pId":"7dc2d20","name":"简易版Excel导出(小帅丶)","parent":"关于缓存","sort_id":260931,"order":2,"isParent":true,"extname":null,"open":true},{"id":"9e033de","pId":0,"name":"快速开始","parent":"","sort_id":60037,"order":2,"isParent":true,"extname":null,"open":true},{"id":"第三部、设置菜单和权限","pId":"67d4f97","name":"第三部、设置菜单和权限","parent":"代码生成","order":3,"sort_id":85609,"extname":".markdown","isParent":false,"isHidden":false,"content":"1、打开菜单管理模块，设置菜单，按钮等信息。\n![输入图片说明](https://gitee.com/uploads/images/2017/1026/085432_0cb54084_1204498.png \"屏幕截图.png\")\n2、打开角色管理模块，给指定角色添加打开该模块的权限。  _注意，权限信息做了缓存，重启登录系统才能有效_ "},{"id":"war包使用root部署","pId":"02d7de0","name":"war包使用root部署","parent":"代码生成/部署","order":3,"sort_id":123262,"extname":".markdown","isParent":false,"isHidden":false,"content":"war包使用root部署\n因为tomcat的server.xml配置的path 配置成了 \"/\"而Tomcat在启动的时候会去webapps下访问它默认的ROOT应用程序，其实这就是它在conf/server.xml中配好的默认规则，如果你想让Tomcat启动时默认打开你自己的web应用，最简单的做法就是不去改他的配置，只需要\n\n1.将webapps目录下ROOT文件夹删除掉\n\n2.copy你的war包到webapps目录下，并更名为ROOT\n\n3.启动Tomcat\n\n4.访问 http://localhost/ 就是你的项目首页了"},{"id":"导入项目","pId":0,"name":"导入项目","parent":null,"order":3,"sort_id":60039,"extname":".markdown","isParent":false,"isHidden":false,"content":"###  **eclipse** \n\n\n\n\n1、从Eclipse中选择File-\u003Eimport-\u003EGit-\u003EProjects from Git\n![输入图片说明](https://git.oschina.net/uploads/images/2017/1005/165734_404b200a_1204498.png \"屏幕截图.png\")\n2、Next-\u003EURL-\u003ENext\n![输入图片说明](https://git.oschina.net/uploads/images/2017/1005/165915_d0d86d80_1204498.png \"屏幕截图.png\")\n3、配置本地项目存放路径，Next\n![输入图片说明](https://git.oschina.net/uploads/images/2017/1005/170033_94d6e4bf_1204498.png \"屏幕截图.png\")\n\n4、等待项目导入到本地然后关闭\n\n5、从Eclipse中选择File-\u003Eimport-\u003EExistring Maven Projects\n\n6、选择之前导入的路径，完成\n\n\n###  **idea** \n\n\n1、从idea中选择new-\u003Eproject from version control-\u003Egit\n![输入图片说明](https://gitee.com/uploads/images/2017/1019/165547_4331a323_1204498.png \"屏幕截图.png\")\n"},{"id":"02d7de0","pId":"67d4f97","name":"部署","parent":"代码生成","sort_id":123254,"order":4,"isParent":true,"extname":null,"open":true},{"id":"非root部署，改造方案","pId":"02d7de0","name":"非root部署，改造方案","parent":"代码生成/部署","order":4,"sort_id":123272,"extname":".markdown","isParent":false,"isHidden":false,"content":"\n需要设置context-path或者外置tomcat非root部署的同学可以采用此方案\n![输入图片说明](https://gitee.com/uploads/images/2017/1127/182802_a9656d35_1204498.png \"屏幕截图.png\")\n\n![输入图片说明](https://gitee.com/uploads/images/2017/1127/182816_6de10914_1204498.png \"屏幕截图.png\")\n\n![输入图片说明](https://gitee.com/uploads/images/2017/1127/182824_271e9b2a_1204498.png \"屏幕截图.png\")"},{"id":"推荐jar包部署，方法很运行普通jar包一样","pId":"67d4f97","name":"推荐jar包部署，方法很运行普通jar包一样","parent":"代码生成","order":5,"sort_id":123259,"extname":".markdown","isParent":false,"isHidden":false,"content":"java -jar"},{"id":"bb38def","pId":"02d7de0","name":"war部署外部Tomcat","parent":"代码生成/部署","sort_id":199527,"order":5,"isParent":true,"extname":null,"open":true},{"id":"67d4f97","pId":0,"name":"代码生成","parent":"","sort_id":68607,"order":8,"isParent":true,"extname":null,"open":true},{"id":"7dc2d20","pId":0,"name":"关于缓存","parent":"","sort_id":178186,"order":12,"isParent":true,"extname":null,"open":true},{"id":"55c59bd","pId":0,"name":"添加菜单","parent":"","sort_id":180793,"order":13,"isParent":true,"extname":null,"open":true},{"id":"列表数据Excel导出","pId":0,"name":"列表数据Excel导出","parent":null,"order":18,"sort_id":260933,"extname":".markdown","isParent":false,"isHidden":false,"content":"列表数据Excel导出\n- 需要用的jar\n```\n        \u003C!--xxl-excel --\u003E\n        \u003Cdependency\u003E\n            \u003CgroupId\u003Ecom.xuxueli\u003C/groupId\u003E\n            \u003CartifactId\u003Exxl-excel\u003C/artifactId\u003E\n            \u003Cversion\u003E1.0.0\u003C/version\u003E\n        \u003C/dependency\u003E\n```\n- xxl-excel默认必须指定导出的文件路径，为了避免这个问题。我们自行增加一个方法\n```\n\nimport java.io.OutputStream;\nimport java.util.List;\n\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.xuxueli.poi.excel.ExcelExportUtil;\n\npublic class ExcelExportUtil4DIY extends ExcelExportUtil{\n    private static Logger logger = LoggerFactory.getLogger(ExcelExportUtil.class);\n      /**\n     * 导出Excel文件到磁盘\n     * @param dataList\n     * @param outputStream\n     */\n    public static void exportToFile(List\u003C?\u003E dataList, OutputStream outputStream){\n        // workbook\n        Workbook workbook = exportWorkbook(dataList);\n        try {\n            // workbook 2 FileOutputStream\n            workbook.write(outputStream);\n            // flush\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);\n            throw new RuntimeException(e);\n        } finally {\n            try {\n                if (outputStream!=null) {\n                    outputStream.close();\n                }\n            } catch (Exception e) {\n                logger.error(e.getMessage(), e);\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n\n\n```\n- 模块对应的JS做以下修改\n```\n    //导出Excel type导出的类型\n    //type 1 导出当页数据 2 导出全部数据 3 导出符合条件全部数据\n    function exportExcel(type) {\n        //获取table的分页参数值\n        var offset = $('#exampleTable').bootstrapTable('getOptions').pageSize;\n        var limit = $('#exampleTable').bootstrapTable('getOptions').pageNumber * offset;\n        data = 'limit='+limit+'\u0026offset='+offset;\n        //后端导出的方法\n        document.location.href = prefix + \"/exportExcel?type=\"+type+\"\u0026\"+ data;\n    }\n```\n- 模块对应的html做以下修改\n```\n\u003Cbutton type=\"button\" class=\"btn btn-primary\" onclick=\"exportExcel(1)\"\u003E\n\u003Ci class=\"fa fa-export\" aria-hidden=\"true\"\u003E\u003C/i\u003E导出当页数据\n\u003C/button\u003E\n\u003Cbutton type=\"button\" class=\"btn btn-primary\" onclick=\"exportExcel(2)\"\u003E\n\u003Ci class=\"fa fa-export\" aria-hidden=\"true\"\u003E\u003C/i\u003E导出全部数据\n\u003C/button\u003E\n\u003Cbutton type=\"button\" class=\"btn btn-primary\" onclick=\"exportExcel(3)\"\u003E\n\u003Ci class=\"fa fa-export\" aria-hidden=\"true\"\u003E\u003C/i\u003E导出符合条件全部数据\n\u003C/button\u003E\n```\n- 模块对应Controller增加以下内容\n```\n    /**\n     * 导出\n     * @param request\n     * @param response\n     * @author 小帅丶\n     * @return\n     * @throws Exception\n     */\n    @RequestMapping(value=\"/exportExcel\")\n    public void exportExcel(@RequestParam Map\u003CString, Object\u003E params,HttpServletRequest request,HttpServletResponse response) throws Exception{\n        SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n        String filename = \"测试导出功能\"+format.format(new Date().getTime())+\".xls\";\n        response.setContentType(\"application/ms-excel;charset=UTF-8\");\n        response.setHeader(\"Content-Disposition\", \"attachment;filename=\"+new String(filename.getBytes(),\"iso-8859-1\"));\n        OutputStream out = response.getOutputStream();\n        try {\n            Query query = new Query(params);\n            String type = request.getParameter(\"type\");\n            //导出当前页面数据\n            if(type.equals(\"1\")){\n                List\u003CXXXDO\u003E XxxDOs = XxxService.list(query);\n                ExcelExportUtil4DIY.exportToFile(XxxDOs,out);\n            }\n            //导出全部数据\n            if(type.equals(\"2\")){\n                List\u003CXXXDO\u003E XxxDOs = XxxService.list(null);\n                ExcelExportUtil4DIY.exportToFile(XxxDOs,out);\n            }\n            //导出符合条件的全部数据\n            if(type.equals(\"3\")){\n                query.remove(\"offset\");\n                query.remove(\"limit\");\n                List\u003CXXXDO\u003E XxxDOs = XxxService.list(query);\n                ExcelExportUtil4DIY.exportToFile(XxxDOs,out);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            logger.info(\"exportExcel出错\"+e.getMessage());\n        }finally{\n            out.close();\n        }\n    }\n```\n"},{"id":"5ce64d2","pId":0,"name":"关于activiti的常见问题","parent":"","sort_id":400383,"order":19,"isParent":true,"extname":null,"open":true},{"id":"第三部、刷新页面、无效则关闭浏览器，重新登录","pId":0,"name":"第三部、刷新页面、无效则关闭浏览器，重新登录","parent":null,"order":20,"sort_id":180807,"extname":".markdown","isParent":false,"isHidden":false,"content":"刷新页面、无效则关闭浏览器，重新登录"}],"content":{"85590":"\u003Cp\u003E1、打开代码生成模块，点击配置策略\u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2017/1026/083809_ab05adc8_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E2、指定作者，邮箱等信息等代码注释信息；\u003C/p\u003E\n\n\u003Cp\u003E3、指定 \u003Cstrong\u003E包\u003C/strong\u003E 名；\u003C/p\u003E\n\n\u003Cp\u003E4、为了是代码简洁美观可选择自动去除表的前缀，或者去掉指定的表前缀。\u003C/p\u003E\n","85604":"\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E 关于为什么不直接生成到项目中，只要考虑到，如果生成策略配置不正确或者其他原因导致代码生成错误，或者生成的某些代码是不需要的，还需要手动删除，可能导致误删等情况。 \n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cp\u003E1、生成策略配置完成后，点击生成代码按钮或者批量删除按钮，自动生成对单表表单的增删改查模块。\n2、复制到项目中，一般根据依赖关系，先复制pojo,dao,service,controller，然后是xml,html,js等静态资源。\u003C/p\u003E\n","47151":"\u003Cp\u003E面向学习型的开源框架，简洁高效，减少过渡封装，展现技术本质!\u003C/p\u003E\n\n\u003Cp\u003E项目地址(GitHub):\u003Ca href=\"https://github.com/lcg0124/bootdo\"\u003Ehttps://github.com/lcg0124/bootdo\u003C/a\u003E\u003C/p\u003E\n\n\u003Cp\u003E项目地址(GitEE):\u003Ca href=\"https://gitee.com/lcg0124/bootdo\"\u003Ehttps://gitee.com/lcg0124/bootdo\u003C/a\u003E\u003C/p\u003E\n","199529":"\u003Cp\u003E\u003Cstrong\u003E注意修改BootdoApplication\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cul class=\"task-list\"\u003E\n\u003Cli\u003E只需要继承SpringBootServletInitializer 和 configure方法重写\n\u003Ccode\u003E\npublic class BootdoApplication ** extends SpringBootServletInitializer** {\n**    @Override\nprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n    return builder.sources(BootdoApplication.class);\n}** \n\u003C/code\u003E\n\u003Cstrong\u003E1.修改pom.xml文件打包方式为war\u003C/strong\u003E \n\u003Ccode\u003E\n\u0026lt;groupId\u0026gt;com.bootdo\u0026lt;/groupId\u0026gt;\n\u0026lt;artifactId\u0026gt;bootdo\u0026lt;/artifactId\u0026gt;\n\u0026lt;version\u0026gt;1.5.0\u0026lt;/version\u0026gt;\n\u0026lt;packaging\u0026gt;war\u0026lt;/packaging\u0026gt;\n\u003C/code\u003E\n\u003Cimg alt=\"pom修改war打包方式\" src=\"https://gitee.com/uploads/images/2018/0127/151715_fbbc0ce7_131538.jpeg\" title=\"1.修改为war打包模式.jpg\" /\u003E\u003C/li\u003E\n\u003C/ul\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E2.移除springboot自带tomcat环境并添加servlet依赖\u003C/strong\u003E \u003C/p\u003E\n\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u0026lt;!-- 移除嵌入式tomcat插件 --\u0026gt;\n\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;org.springframework.boot\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;spring-boot-starter-tomcat\u0026lt;/artifactId\u0026gt;\n    \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt;\n\u0026lt;/dependency\u0026gt;\n\u0026lt;!-- 添加servlet-api的依赖 --\u0026gt;\n\u0026lt;dependency\u0026gt;\n    \u0026lt;groupId\u0026gt;javax.servlet\u0026lt;/groupId\u0026gt;\n    \u0026lt;artifactId\u0026gt;servlet-api\u0026lt;/artifactId\u0026gt;\n    \u0026lt;version\u0026gt;2.5\u0026lt;/version\u0026gt;\n    \u0026lt;scope\u0026gt;provided\u0026lt;/scope\u0026gt;\n\u0026lt;/dependency\u0026gt;\n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cp\u003E\u003Cimg alt=\"移除springboot自带tomcat环境并添加servlet依赖\" src=\"https://gitee.com/uploads/images/2018/0127/151923_13a889da_131538.jpeg\" title=\"2.移除springboot自带tomcat环境并添加servlet依赖.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E3.bulid一下项目\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"bulid一下项目\" src=\"https://gitee.com/uploads/images/2018/0127/155842_41a58db4_131538.jpeg\" title=\"3.build项目.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E4.项目进行maven package操作打包war文件\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"项目进行maven package操作打包war文件\" src=\"https://gitee.com/uploads/images/2018/0127/155946_112e8ede_131538.jpeg\" title=\"4.项目打包成war格式.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E5.新建一个配置forTomcat\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"新建一个配置forTomcat\" src=\"https://gitee.com/uploads/images/2018/0127/160258_01b18f2a_131538.jpeg\" title=\"5.添加Tomcat服务器.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E6.点击＋号，下拉选择Tomcat Server-Local\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"选择Tomcat Server\" src=\"https://gitee.com/uploads/images/2018/0127/160322_c91216c0_131538.jpeg\" title=\"5.添加一个Tomcat服务.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E7.显示idea已经配置的Tomcat相关信息，端口等\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"Tomcat相关信息\" src=\"https://gitee.com/uploads/images/2018/0127/160412_01567c00_131538.jpeg\" title=\"6.默认读取idea配置的tomcat内容.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E8.切换至Deployment 点击＋号，点击artifact添加项目\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"artifact添加项目\" src=\"https://gitee.com/uploads/images/2018/0127/160452_a7c3875b_131538.jpeg\" title=\"7.artifact项目.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E9.添加打包成war的项目\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003Ewar模式：将WEB工程以包的形式上传到服务器；\u003C/p\u003E\n\n\u003Cp\u003Ewar exploded模式：将WEB工程以当前文件夹的位置关系上传到服务器；选择war exploded\n\u003Cimg alt=\"添加打包成war的项目\" src=\"https://gitee.com/uploads/images/2018/0127/160607_92cb5c17_131538.jpeg\" title=\"8.添加刚才打包好的项目.jpg\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cstrong\u003E10.添加完成截图示意\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E可以在application context修改访问项目的路径哦\u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"添加完成截图示意\" src=\"https://gitee.com/uploads/images/2018/0127/160744_1d040739_131538.jpeg\" title=\"9.添加完成的截图.jpg\" /\u003E\n \u003Cstrong\u003E11.点击运行即可\u003C/strong\u003E \u003C/p\u003E\n\n\u003Cp\u003E点击绿色倒三角会启动项目并自动打开浏览器跳转到项目index页面 \u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"运行即可\" src=\"https://gitee.com/uploads/images/2018/0127/160846_f976268e_131538.jpeg\" title=\"9点击运行即可.jpg\" /\u003E\u003C/p\u003E\n\u003Ch3\u003E\u003Ca class=\"anchor\" id=\"常见问题_1\" href=\"#常见问题_1\"\u003E\u003C/a\u003E常见问题\u003C/h3\u003E\n\u003Cul class=\"task-list\"\u003E\n\u003Cli\u003EFileController.java报错\n\u003Ccode\u003E\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name \u0026#39;fileController\u0026#39;: Failed to introspect bean class [com.xai.common.controller.FileController] for lookup method metadata: could not find class that it depends on; nested exception is java.lang.NoClassDefFoundError: org/apache/catalina/servlet4preview/http/HttpServletRequest\n\u003C/code\u003E\u003C/li\u003E\n\u003Cli\u003E解决方法：\n\u003Ccode\u003E\n删除FileController.java 中import org.apache.catalina.servlet4preview.http.HttpServletRequest;\n导入javax中的servlet import javax.servlet.http.HttpServletRequest;\n\u003C/code\u003E\u003C/li\u003E\n\u003C/ul\u003E\n\n\u003Cp\u003E以上就是bootdo打包成war并部署外部Tomcat图文步骤整理\u003C/p\u003E\n","400419":"\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2018/0521/115322_9699101c_1204498.png\" title=\"屏幕截图.png\" /\u003E\n设置成false\u003C/p\u003E\n","64319":"\u003Cp\u003E1、找到配置文件application.yml\u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://git.oschina.net/uploads/images/2017/1011/172440_1a6ea36b_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E2、更改数据库\n\u003Cimg alt=\"输入图片说明\" src=\"https://git.oschina.net/uploads/images/2017/1011/172534_e9c44917_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E3、找到BootdoApplication直接运行\n\u003Cimg alt=\"输入图片说明\" src=\"https://git.oschina.net/uploads/images/2017/1011/172333_447c9dbd_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E4、启动成功\u003C/p\u003E\n\n\u003Cp\u003E5、访问localhost\u003C/p\u003E\n","180798":"\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2018/0108/163854_0a8b4ab8_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n","178191":"\u003Cp\u003E配置文件制定cacheType，切换缓存类型\u003C/p\u003E\n","180802":"\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2018/0108/164145_2bdacb79_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n","85609":"\u003Cp\u003E1、打开菜单管理模块，设置菜单，按钮等信息。\n\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2017/1026/085432_0cb54084_1204498.png\" title=\"屏幕截图.png\" /\u003E\n2、打开角色管理模块，给指定角色添加打开该模块的权限。  \u003Cem\u003E注意，权限信息做了缓存，重启登录系统才能有效\u003C/em\u003E \u003C/p\u003E\n","123262":"\u003Cp\u003Ewar包使用root部署\n因为tomcat的server.xml配置的path 配置成了 \"/\"而Tomcat在启动的时候会去webapps下访问它默认的ROOT应用程序，其实这就是它在conf/server.xml中配好的默认规则，如果你想让Tomcat启动时默认打开你自己的web应用，最简单的做法就是不去改他的配置，只需要\u003C/p\u003E\n\n\u003Cp\u003E1.将webapps目录下ROOT文件夹删除掉\u003C/p\u003E\n\n\u003Cp\u003E2.copy你的war包到webapps目录下，并更名为ROOT\u003C/p\u003E\n\n\u003Cp\u003E3.启动Tomcat\u003C/p\u003E\n\n\u003Cp\u003E4.访问 \u003Ca target=\"_blank\" href=\"http://localhost/\"\u003Ehttp://localhost/\u003C/a\u003E 就是你的项目首页了\u003C/p\u003E\n","60039":"\u003Ch3\u003E\u003Ca class=\"anchor\" id=\"eclipse_1\" href=\"#eclipse_1\"\u003E\u003C/a\u003E\u003Cstrong\u003Eeclipse\u003C/strong\u003E\n\u003C/h3\u003E\n\u003Cp\u003E1、从Eclipse中选择File-\u0026gt;import-\u0026gt;Git-\u0026gt;Projects from Git\n\u003Cimg alt=\"输入图片说明\" src=\"https://git.oschina.net/uploads/images/2017/1005/165734_404b200a_1204498.png\" title=\"屏幕截图.png\" /\u003E\n2、Next-\u0026gt;URL-\u0026gt;Next\n\u003Cimg alt=\"输入图片说明\" src=\"https://git.oschina.net/uploads/images/2017/1005/165915_d0d86d80_1204498.png\" title=\"屏幕截图.png\" /\u003E\n3、配置本地项目存放路径，Next\n\u003Cimg alt=\"输入图片说明\" src=\"https://git.oschina.net/uploads/images/2017/1005/170033_94d6e4bf_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E4、等待项目导入到本地然后关闭\u003C/p\u003E\n\n\u003Cp\u003E5、从Eclipse中选择File-\u0026gt;import-\u0026gt;Existring Maven Projects\u003C/p\u003E\n\n\u003Cp\u003E6、选择之前导入的路径，完成\u003C/p\u003E\n\u003Ch3\u003E\u003Ca class=\"anchor\" id=\"idea_1\" href=\"#idea_1\"\u003E\u003C/a\u003E\u003Cstrong\u003Eidea\u003C/strong\u003E\n\u003C/h3\u003E\n\u003Cp\u003E1、从idea中选择new-\u0026gt;project from version control-\u0026gt;git\n\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2017/1019/165547_4331a323_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n","123272":"\u003Cp\u003E需要设置context-path或者外置tomcat非root部署的同学可以采用此方案\n\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2017/1127/182802_a9656d35_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2017/1127/182816_6de10914_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n\n\u003Cp\u003E\u003Cimg alt=\"输入图片说明\" src=\"https://gitee.com/uploads/images/2017/1127/182824_271e9b2a_1204498.png\" title=\"屏幕截图.png\" /\u003E\u003C/p\u003E\n","123259":"\u003Cp\u003Ejava -jar\u003C/p\u003E\n","260933":"\u003Cp\u003E列表数据Excel导出\u003C/p\u003E\n\n\u003Cul class=\"task-list\"\u003E\n\u003Cli\u003E需要用的jar\n\u003Ccode\u003E\n    \u0026lt;!--xxl-excel --\u0026gt;\n    \u0026lt;dependency\u0026gt;\n        \u0026lt;groupId\u0026gt;com.xuxueli\u0026lt;/groupId\u0026gt;\n        \u0026lt;artifactId\u0026gt;xxl-excel\u0026lt;/artifactId\u0026gt;\n        \u0026lt;version\u0026gt;1.0.0\u0026lt;/version\u0026gt;\n    \u0026lt;/dependency\u0026gt;\n\u003C/code\u003E\u003C/li\u003E\n\u003Cli\u003Exxl-excel默认必须指定导出的文件路径，为了避免这个问题。我们自行增加一个方法\n```\u003C/li\u003E\n\u003C/ul\u003E\n\n\u003Cp\u003Eimport java.io.OutputStream;\nimport java.util.List;\u003C/p\u003E\n\n\u003Cp\u003Eimport org.apache.poi.ss.usermodel.Workbook;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\u003C/p\u003E\n\n\u003Cp\u003Eimport com.xuxueli.poi.excel.ExcelExportUtil;\u003C/p\u003E\n\n\u003Cp\u003Epublic class ExcelExportUtil4DIY extends ExcelExportUtil{\n    private static Logger logger = LoggerFactory.getLogger(ExcelExportUtil.class);\n      /**\n     * 导出Excel文件到磁盘\n     * \u003Ca href=\"/param\" class=\"gfm gfm-team_member \"\u003E@chancelai \u003C/a\u003E dataList\n     * \u003Ca href=\"/param\" class=\"gfm gfm-team_member \"\u003E@chancelai \u003C/a\u003E outputStream\n     */\n    public static void exportToFile(List\u0026lt;?\u0026gt; dataList, OutputStream outputStream){\n        // workbook\n        Workbook workbook = exportWorkbook(dataList);\n        try {\n            // workbook 2 FileOutputStream\n            workbook.write(outputStream);\n            // flush\n        } catch (Exception e) {\n            logger.error(e.getMessage(), e);\n            throw new RuntimeException(e);\n        } finally {\n            try {\n                if (outputStream!=null) {\n                    outputStream.close();\n                }\n            } catch (Exception e) {\n                logger.error(e.getMessage(), e);\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\u003C/p\u003E\n\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E- 模块对应的JS做以下修改\n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E//导出Excel type导出的类型\n//type 1 导出当页数据 2 导出全部数据 3 导出符合条件全部数据\nfunction exportExcel(type) {\n    //获取table的分页参数值\n    var offset = $('#exampleTable').bootstrapTable('getOptions').pageSize;\n    var limit = $('#exampleTable').bootstrapTable('getOptions').pageNumber * offset;\n    data = 'limit='+limit+'\u0026amp;offset='+offset;\n    //后端导出的方法\n    document.location.href = prefix + \"/exportExcel?type=\"+type+\"\u0026amp;\"+ data;\n}\n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E- 模块对应的html做以下修改\n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\n\u003Cp\u003E\n\u003Ci class=\"fa fa-export\"\u003E\u003C/i\u003E导出当页数据\n\n\n\u003Ci class=\"fa fa-export\"\u003E\u003C/i\u003E导出全部数据\n\n\n\u003Ci class=\"fa fa-export\"\u003E\u003C/i\u003E导出符合条件全部数据\n\u003C/p\u003E\n\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E- 模块对应Controller增加以下内容\n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E/**\n * 导出\n * @param request\n * @param response\n * @author 小帅丶\n * @return\n * @throws Exception\n */\n@RequestMapping(value=\"/exportExcel\")\npublic void exportExcel(@RequestParam Map\u0026lt;String, Object\u0026gt; params,HttpServletRequest request,HttpServletResponse response) throws Exception{\n    SimpleDateFormat format = new SimpleDateFormat(\"yyyy-MM-dd\");\n    String filename = \"测试导出功能\"+format.format(new Date().getTime())+\".xls\";\n    response.setContentType(\"application/ms-excel;charset=UTF-8\");\n    response.setHeader(\"Content-Disposition\", \"attachment;filename=\"+new String(filename.getBytes(),\"iso-8859-1\"));\n    OutputStream out = response.getOutputStream();\n    try {\n        Query query = new Query(params);\n        String type = request.getParameter(\"type\");\n        //导出当前页面数据\n        if(type.equals(\"1\")){\n            List\u0026lt;XXXDO\u0026gt; XxxDOs = XxxService.list(query);\n            ExcelExportUtil4DIY.exportToFile(XxxDOs,out);\n        }\n        //导出全部数据\n        if(type.equals(\"2\")){\n            List\u0026lt;XXXDO\u0026gt; XxxDOs = XxxService.list(null);\n            ExcelExportUtil4DIY.exportToFile(XxxDOs,out);\n        }\n        //导出符合条件的全部数据\n        if(type.equals(\"3\")){\n            query.remove(\"offset\");\n            query.remove(\"limit\");\n            List\u0026lt;XXXDO\u0026gt; XxxDOs = XxxService.list(query);\n            ExcelExportUtil4DIY.exportToFile(XxxDOs,out);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        logger.info(\"exportExcel出错\"+e.getMessage());\n    }finally{\n        out.close();\n    }\n}\n\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E\u003Cdiv class=\"white\"\u003E\u003Cdiv class=\"highlight\"\u003E\u003Cpre\u003E\u003C/pre\u003E\u003C/div\u003E\u003C/div\u003E","180807":"\u003Cp\u003E刷新页面、无效则关闭浏览器，重新登录\u003C/p\u003E\n"}}</script>